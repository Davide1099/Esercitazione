//1.4
// scrivere una funzione chiamata countUndefinedKeys che 
// dato un oggetto come parametro
// ritorni un intero che rappresenti il numero di chiavi, presenti
// nell'oggetto, che hanno valore undefined o null

//creo una funzione che prende in ingresso un oggetto chiamato object
//creo il contatore countFalsey e lo inizializzo da 0
//utilizzo il metodo object.keys() che prende in ingresso l'oggetto e mi restituisce le chiavi in un array
// ciclo l'array con for each che prende la funzione di parametro k. 
// k mi permette di raggiungere le chiavi e quindi i valori loro assegnati perchè non ho più un oggetto ma sono nelle array. Come in esse, infatti, il modo di chiamare un valore tramite indice i è il seguente: array[i]. In questo caso è falsey[k]. Il forEach itera ogni elemento e quindi se il valore corrispondente alla k (trovato con falsey[k]) è come se fosse il valore associato ad una determinata i nel caso di un for e array[i]

function countUndefinedKeys(falsey) {
    let countFalsey=0
    Object.keys(falsey).forEach(function (k) {
      if (falsey[k] == 'null' || falsey[k] == 'undefined') {
        countFalsey++   
      }
    });
    return countFalsey
  }

  const falseyValues = {1:'null', 2:'false',3:'empty string', 4:'undefined', 5:'0', 6:'NaN'}
  console.log(countUndefinedKeys(falseyValues));

  
  //spiegazione differenze chiamata
  object[key]   // > in questo caso quando object è un array (come trasformato con Object.keys())
  object.key    // > normale chiamata del valore corrispondente alla chiave in un oggetto. 
  
  // esempio di funzione con operatore ternario
  function count2(o) {
    return Object.keys(o).reduce((sum, key) => key == null ? sum + 1 : sum, 0)
  }
  
  //traduzione della costruzione con operatore ternario (più lunga ma equivalente)
  function count2(o) {
    return Object.keys(o).reduce((sum, key) => {
      if (key == null) {
        return sum + 1
      } else {
        return sum
      }
    }, 0)
  }

// altro esempio per comprendere il concetto. 
  let keys = Object.keys(obj)
  for (let index = 0; index < keys.length; index++) {
    const key = keys[index];
    console.log(obj.key)
  }
  
  // write a function such that given JavaScript
  // prints the following
  //          s
  //         s c
  //       a s c r
  //     v a s c r i
  //   a v a s c r i p
  // J a v a S c r i p t
  
  //           c
  //         s c r
  //       a s c r i
  //     v a s c r i p
  //   a v a s c r i p t
  // J a v a S c r i p t !
  
  // scrivo una funzione che prende in ingresso una stringa 
  // e ritorna quella stringa senza tanti caratteri ad inizio e 
  // fine stringa
  // quanto e' il numero dentro charsNumber
  function getLine(string, charsNumbers) {
      // posso usare slice e risolverlo in una riga
      // return string.slice(charsNumbers, string.length - charsNumbers)
  
      // oppure posso non essere a consocenza di slice e lo 
      // risolvo con un algoritmo
      let res = ''
      for (let i = charsNumbers; i < string.length - charsNumbers; i++) {
          res += string[i]
      }
      return res
  }
  
  // scrivo una funzione che mette gli spazi tra ogni carattere della
  // stringa che ricevo in input
  function insertSpacesBetween(string) {
      // let res = ''
      // for (let i = 0; i < string.length; i++) {
      //     res += string[i] + ' '
      // }
  
      // return res
  
      return string.split('').join(' ')
  }
  
  function insertSpacesLeft(string, n) {
      let res = string
      for (let i = 0; i < n; i++) {
          res = ' ' + res
      }
  
      return res
  }
  
  function lineBacchettaMagica(string, charsNumber) {
      let line = getLine(string, charsNumber)
      line = insertSpacesBetween(line)
      line = insertSpacesLeft(line, charsNumber * 2)
      return line
  }
  
  function solution(string) {
      let res = []
      let to = (string.length / 2)
      for (let i = 0; i < to; i++) {
          res.push(lineBacchettaMagica(string, i))
      }
  
      // o reverse dell'array e stampo da sx a dx
  
      // se siamo nella condizione in cui la stringa e' pari
      // allora dobbiamo mettere la punta della piramide
      if (string.length % 2 == 0) {
          let middleCharIndex = (string.length / 2) - 1
          let middleChar = string[middleCharIndex]
          console.log(insertSpacesLeft(middleChar, (to * 2) - 1))
      }
  
      // oppure stampo da dx a sx
      for (let i = res.length - 1; i >= 0; i--) {
          console.log(res[i])
      }
  }
  
  solution("JavaScript")